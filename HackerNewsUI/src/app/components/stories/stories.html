<div class="stories-container">
  <!-- Header -->
  <header class="header">
    <h1 class="title">
      <img src="assets/hackernews-logo.png" alt="Hacker News" class="logo" />
      Hacker News - Newest Stories
    </h1>
    
    <!-- Search and Controls -->
    <div class="controls">
      <div class="search-container">
        <input 
          type="text" 
          [(ngModel)]="searchTerm" 
          (keyup.enter)="onSearch()"
          placeholder="Search stories..." 
          class="search-input"
          [disabled]="loading" />
        <button 
          class="search-btn" 
          (click)="onSearch()"
          [disabled]="loading">
          üîç
        </button>
        <button 
          *ngIf="searchTerm" 
          class="clear-btn" 
          (click)="onSearchClear()"
          [disabled]="loading">
          ‚úï
        </button>
      </div>
      
      <div class="page-size-container">
        <label for="pageSize">Stories per page:</label>
        <select 
          id="pageSize"
          [(ngModel)]="pageSize" 
          (change)="onPageSizeChange()"
          [disabled]="loading">
          <option value="10">10</option>
          <option value="20">20</option>
          <option value="50">50</option>
        </select>
      </div>
    </div>
  </header>

  <!-- Loading state -->
  <!-- <div *ngIf="loading" class="loading">
    <div class="loading-spinner"></div>
    <p>Loading stories...</p>
  </div> -->

  <!-- Error state -->
  <div *ngIf="error && !loading" class="error">
    <p>{{ error }}</p>
    <button class="retry-btn" (click)="loadStories()">Retry</button>
  </div>

  <!-- Stories list -->
  <div *ngIf="stories" class="stories-content">
    <!-- No results message -->
    <div *ngIf="stories.items.length === 0" class="no-results">
      <p>No stories found{{ searchTerm ? ' for "' + searchTerm + '"' : '' }}.</p>
      <button *ngIf="searchTerm" class="clear-search-btn" (click)="onSearchClear()">
        Clear search
      </button>
    </div>

    <!-- Stories list -->
    <div *ngIf="stories.items.length > 0" class="stories-list">
      <app-story-item 
        *ngFor="let story of stories.items; let i = index" 
        [story]="story" 
        [index]="(currentPage - 1) * pageSize + i">
      </app-story-item>
    </div>

    <!-- Pagination -->
    <app-pagination 
      *ngIf="stories.items.length > 0"
      [paginatedResult]="stories" 
      (pageChange)="onPageChange($event)">
    </app-pagination>
  </div>
</div>
